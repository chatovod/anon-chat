Анонимный "Чат с незнакомцем"
=========

https://anon.chatovod.ru/

Сообщения не сохраняются на сервере, а передаются сразу в браузер собеседника.

Если открыть несколько окон чата, то каждое окно будет считаться отдельным собеседником.

Поддерживаются все популярные браузеры и мобильные устройства.

Форум: http://forum.chatovod.com/viewtopic.php?id=1829

Основной JavaScript-код чата находится в файле: https://github.com/chatovod/anon-chat/blob/master/js/main.js

# Протокол

Для взаимодействия с сервером чата используется SockJS.

Формат пакета `cmd,data1,data2`, где "cmd" - код команды (1 байт), "data1,data2" - данные через запятую.

## Команды посылаемые серверу

`1` - поиск нового собеседника

`3,text` - отправка сообщения text

`6,id` - отправка подтверждения получения сообщения с номером id

`8` - свой статус "пишу"

`9` - свой статус "не пишу"

## Команды приходящие от сервера

`2` - собеседник найден, начат диалог

`4,id,text` - сообщение с номером id и текстом text от самого себя

`5,id,text` - сообщение с номером id и тестом text от собеседника

`7` - собеседник отключился

`8` - статус собеседника "пишет"

`9` - статус собеседника "не пишет"

`o,count` - число (count) онлайн пользователей чата

Получение сообщений необходимо подтверждать. Сообщения с одним id могут прийти повторно, повторные можно игнорировать.